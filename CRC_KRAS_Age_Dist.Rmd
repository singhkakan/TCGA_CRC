---
title: "CRC_KRAS_Age"
author: "Shruti Kakan"
date: "2024-05-07"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library("TCGAbiolinks")
#if (!require("BiocManager", quietly = TRUE))
#    install.packages("BiocManager")
#BiocManager::install("limma")
library("limma")
library("edgeR")
library("glmnet")
library("factoextra")
library("FactoMineR")
library("caret")
library("SummarizedExperiment")
library("gplots")
library("survival")
library("survminer")
library("RColorBrewer")
library("gProfileR")
library("genefilter")

setwd("~/Documents/TCGA/TCGA/")
```

## R Markdown

Number of cases by Genomics Data Type for Colon adenocarcinoma
```{r}
#TCGA Data
library(TCGAbiolinks)
GDCprojects = getGDCprojects()
head(GDCprojects[c("project_id", "name")])
TCGAbiolinks:::getProjectSummary("TCGA-COAD")

#if (!require("BiocManager", quietly = TRUE))
#    install.packages("BiocManager")
#BiocManager::install("TCGAbiolinks")

```

Number of cases by Genomics Data Type for Rectal Adenocarcinoma
```{r}
TCGAbiolinks:::getProjectSummary("TCGA-READ")
```

### Obtain Colon Adenocarconoma datasets COAD
Querying all Single Nucleotide Variation data from COAD project
READ is rectal adenocarcinoma
```{r}
query_COAD = GDCquery(
  project = "TCGA-COAD",
  data.category = "Simple Nucleotide Variation",
  data.type = "Masked Somatic Mutation" )
query_READ = GDCquery(
  project =  "TCGA-READ",
  data.category = "Simple Nucleotide Variation",
  data.type = "Masked Somatic Mutation")

View(getResults(query_COAD))
View(getResults(query_READ))
```

@Querying Data for Somatic Mutations in Colon and Rectum Adenocarcinoma
```{r}
coad_res = getResults(query_COAD) # make results as table
# head(lihc_res) # data of the first 6 patients.
colnames(coad_res) # columns present in the table
head(coad_res$sample_type) # first 6 types of tissue.
summary(factor(coad_res$sample_type)) # summary of distinct tissues types present in this study

read_res = getResults(query_READ) # make results as table
# head(lihc_res) # data of the first 6 patients.
colnames(read_res) # columns present in the table
head(read_res$sample_type) # first 6 types of tissue.
summary(factor(read_res$sample_type)) # summary of distinct tissues types present in this study

```

There are 82 normal tissue samples

Downloading the somatic mutations Data File data file
```{r}
GDCdownload(query = query_COAD)
GDCdownload(query = query_READ)
```

#Loading the data in R
```{r}
coad_data = GDCprepare(query_COAD)
read_data = GDCprepare(query_READ)

install.packages("remotes")
remotes::install_github("nlhuong/TimeSeriesExperiment")

library("TimeSeriesExperiment")
dim(coad_data)
dim(read_data)
library(SummarizedExperiment)
colnames(SummarizedExperiment::colData(coad_data))
colnames(colData(read_data))

```


```{r}

```


```{r}

```


```{r}

```

